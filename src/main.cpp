#define NOMINMAX
#include <stdinclude.hpp>

extern bool init_hook();
extern void uninit_hook();
extern void start_console();



unsigned char key_d[2592] = {
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2E, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2E, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2A, 0x2C, 0x2E, 0x2C, 0x2C, 0x2F, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2F,
	0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x2C, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x28, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A, 0x2C, 0x2E, 0x2E, 0x2E, 0x2C,
	0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A,
	0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x2A, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2E, 0x2C, 0x2E,
	0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x2C, 0x2C, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2E, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2C, 0x2E, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E,
	0x2C, 0x2C, 0x2A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2F,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2E, 0x2C, 0x2C, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2C, 0x2C,
	0x2E, 0x2E, 0x2E, 0x2C, 0x2E, 0x2E, 0x2C, 0x2A, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x28,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2E, 0x2E, 0x2E,
	0x2E, 0x2E, 0x2E, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C,
	0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2C, 0x2E, 0x2E, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2E, 0x2A, 0x2C, 0x28, 0x20, 0x20, 0x2E,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2A, 0x2A, 0x2E, 0x2E, 0x2E, 0x2E,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E,
	0x2C, 0x2E, 0x2E, 0x2E, 0x2C, 0x2E, 0x2A, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2E,
	0x2A, 0x2A, 0x2E, 0x2C, 0x28, 0x28, 0x28, 0x28, 0x2A, 0x2E, 0x2E, 0x2E,
	0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2C,
	0x2C, 0x2E, 0x40, 0x2E, 0x2A, 0x2A, 0x2C, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2C, 0x28,
	0x2C, 0x28, 0x28, 0x2F, 0x2A, 0x2F, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E,
	0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x2A, 0x2E, 0x40, 0x40,
	0x40, 0x40, 0x2C, 0x2A, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x23,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2F, 0x28, 0x2C, 0x2C, 0x2C,
	0x2F, 0x2F, 0x2C, 0x28, 0x2A, 0x2F, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C,
	0x2A, 0x2A, 0x2A, 0x2A, 0x2C, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	0x40, 0x40, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x23, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2A, 0x2C, 0x2F, 0x2C, 0x2C, 0x28,
	0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2A, 0x2A, 0x2A, 0x2A, 0x2C,
	0x40, 0x40, 0x40, 0x28, 0x2A, 0x2C, 0x2A, 0x40, 0x25, 0x2E, 0x23, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2E, 0x20, 0x2F, 0x2C, 0x2A, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x2F, 0x2A, 0x2A, 0x2A, 0x2C, 0x28, 0x2A, 0x28, 0x2C, 0x2E, 0x28, 0x2E,
	0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x26, 0x40, 0x40, 0x40, 0x40,
	0x40, 0x40, 0x26, 0x26, 0x40, 0x25, 0x40, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E,
	0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x20, 0x2F, 0x2A, 0x2F, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2F, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C,
	0x2A, 0x2C, 0x2C, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x26,
	0x26, 0x2F, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A, 0x2E, 0x2C, 0x2C, 0x2E,
	0x2C, 0x2A, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2C, 0x40, 0x40,
	0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x25, 0x2C, 0x2E,
	0x2E, 0x2C, 0x2C, 0x2E, 0x2E, 0x2E, 0x2C, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E,
	0x2A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2A, 0x20, 0x20, 0x20, 0x20, 0x2E, 0x2C, 0x2C,
	0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x25, 0x2A, 0x2F, 0x2A,
	0x26, 0x40, 0x2F, 0x2F, 0x2A, 0x2E, 0x2C, 0x2C, 0x2E, 0x2E, 0x2C, 0x2E,
	0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x26, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x2C, 0x2A, 0x2C, 0x2C, 0x2C, 0x2A, 0x2C, 0x2C, 0x2C, 0x2A, 0x2C, 0x2C,
	0x2C, 0x2C, 0x2E, 0x2A, 0x2A, 0x2C, 0x2C, 0x2E, 0x40, 0x2C, 0x2A, 0x2C,
	0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2F, 0x2C, 0x2C, 0x2C, 0x2A, 0x2A, 0x2C, 0x2F, 0x20, 0x20, 0x2A,
	0x2A, 0x2E, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A,
	0x2C, 0x2C, 0x2C, 0x2A, 0x2A, 0x2F, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E,
	0x2A, 0x2C, 0x26, 0x2F, 0x2C, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A,
	0x2A, 0x2E, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20,
	0x20, 0x2F, 0x2C, 0x2C, 0x2A, 0x2A, 0x2A, 0x2A, 0x2C, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x2C, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x2C, 0x28, 0x2A, 0x2A, 0x40,
	0x40, 0x40, 0x40, 0x26, 0x25, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x20, 0x20, 0x2A, 0x2A, 0x2C, 0x2C, 0x2A, 0x2A, 0x2C, 0x2A, 0x2A, 0x2C,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x2C, 0x2C, 0x2C, 0x2A, 0x23, 0x28, 0x23, 0x2C,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2A, 0x2C, 0x2C, 0x2A, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x28, 0x2A, 0x2A, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2E, 0x2A, 0x2F, 0x2E, 0x2C, 0x2C, 0x2C, 0x2E, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A, 0x2C, 0x2C, 0x2E,
	0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2E, 0x2C, 0x2C, 0x2C,
	0x2C, 0x2A, 0x2C, 0x2C, 0x2C, 0x2C, 0x2F, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x2A, 0x2C, 0x20, 0x20, 0x2C,
	0x2C, 0x2F, 0x2A, 0x2E, 0x2E, 0x2E, 0x2C, 0x2A, 0x2A, 0x2A, 0x2E, 0x2C,
	0x2C, 0x2C, 0x2E, 0x2C, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2A, 0x2A, 0x2A, 0x2A,
	0x2E, 0x28, 0x2C, 0x2C, 0x2A, 0x2A, 0x2A, 0x2C, 0x2E, 0x2E, 0x2C, 0x25,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x2E, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x20,
	0x20, 0x2E, 0x2A, 0x2C, 0x2C, 0x2C, 0x2A, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x2E,
	0x2C, 0x2C, 0x28, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0A
};
unsigned char key[2265] = {
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23,
	0x23, 0x23, 0x23, 0x23, 0x23, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23,
	0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x20, 0x20,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x0D, 0x0A, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x23, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23, 0x23, 0x23, 0x23, 0x23,
	0x23, 0x23, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x0D,
	0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x23, 0x23, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20,
	0x20, 0x23, 0x20, 0x20, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x20,
	0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x23, 0x20, 0x0D, 0x0A, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x20, 0x20, 0x23, 0x20, 0x20, 0x20, 0x23, 0x20, 0x20, 0x23, 0x20, 0x20,
	0x23, 0x23, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x23, 0x23, 0x23, 0x20,
	0x20, 0x23, 0x20, 0x20, 0x23, 0x23, 0x20, 0x23, 0x20, 0x20, 0x0D, 0x0A,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x20, 0x23, 0x23, 0x20, 0x23, 0x20, 0x20, 0x20,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20,
	0x20, 0x23, 0x20, 0x23, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20,
	0x0D, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x23,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23,
	0x23, 0x23, 0x20, 0x23, 0x23, 0x20, 0x20, 0x0D, 0x0A, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23, 0x23, 0x20,
	0x20, 0x20, 0x20, 0x23, 0x23, 0x23, 0x20, 0x20, 0x20, 0x20, 0x20, 0x23,
	0x23, 0x20, 0x0D, 0x0A, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA0,
	0x92, 0xE2, 0xA1, 0x84, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA2, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2,
	0xA0, 0xE2, 0xA0, 0xB2, 0xE2, 0xA1, 0x84, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0xA4, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0x0D, 0x0A, 0xE2, 0xA0, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2, 0xA0, 0xB6,
	0xE2, 0xA0, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2, 0xA3, 0xB6, 0xE2, 0xA0, 0x93,
	0xE2, 0xA0, 0x81, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xBF,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0xB8, 0xE2, 0xA1, 0x87,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA0, 0x9B, 0xE2, 0xA0, 0x9B, 0xE2, 0xA0, 0x9B, 0xE2, 0xA0, 0x9B,
	0xE2, 0xA0, 0x9B, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA2, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0xBF, 0xE2, 0xA0, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2, 0xA3, 0xB6,
	0xE2, 0xA0, 0x89, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x87, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0x88, 0xE2, 0xA0, 0xB7, 0xE2, 0xA0, 0x81,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0x0D, 0x0A, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x9F, 0xE2, 0xA1, 0x80, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xBF, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0xB8, 0xE2, 0xA0, 0x87, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA0, 0xB0, 0xE2, 0xA0, 0xB6, 0xE2,
	0xA0, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2, 0xA3, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2,
	0xA0, 0xB6, 0xE2, 0xA0, 0xB6, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0x80, 0xE2, 0xA3, 0xB4, 0xE2,
	0xA0, 0x8B, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2,
	0xA2, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2,
	0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xA0, 0xE2, 0xA0, 0xBF, 0xE2,
	0xA3, 0xA6, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0xA0, 0xE2, 0xA0, 0x87, 0xE2,
	0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0x80, 0xE2, 0xA3, 0x80, 0xE2,
	0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2,
	0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2,
	0xA1, 0x80, 0xE2, 0xA3, 0xA7, 0xE2, 0xA3, 0xA4, 0xE2, 0xA0, 0xB6, 0xE2,
	0xA0, 0x9B, 0xE2, 0xA0, 0x81, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2,
	0xA2, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2,
	0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0xE2, 0xA3, 0x80, 0x0D,
	0x0A, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2,
	0x80, 0xE2, 0xA1, 0xBF, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA0, 0x89, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xBC, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x9F, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA0,
	0xA0, 0xE2, 0xA0, 0x9E, 0xE2, 0xA0, 0x89, 0xE2, 0xA3, 0xBF, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA0, 0x81, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA3, 0xBB, 0xE2, 0xA0, 0x8F, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x87, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1,
	0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0x0D, 0x0A,
	0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xA4, 0xE2, 0xA1, 0xB6, 0xE2, 0xA0, 0x8B,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA2, 0x80,
	0xE2, 0xA3, 0xB4, 0xE2, 0xA0, 0x8B, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xA4,
	0xE2, 0xA0, 0x9F, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xBF, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA3, 0xA0, 0xE2, 0xA0, 0xBE,
	0xE2, 0xA0, 0x81, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA2, 0xB7, 0xE2, 0xA3, 0xA4, 0xE2, 0xA3, 0xA4, 0xE2, 0xA3, 0xA4,
	0xE2, 0xA3, 0xA4, 0xE2, 0xA0, 0x86, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80,
	0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80, 0xE2, 0xA1, 0x80
};




bool g_dump_entries = false;
bool g_enable_logger = false;
bool g_enable_console = false;
bool g_autofps = false;
int g_max_fps = -1;
bool g_unlock_size = false;
float g_ui_scale = 1.0f;
float g_aspect_ratio = 16.f / 9.f;
bool g_replace_font = true;
bool g_auto_fullscreen = true;
bool g_lz4Encrypt = true;
bool g_showLiveTitleWindow = true;
bool g_sendHorseMeterData = false;
bool g_saveMsgPack = false;
bool g_dumpGamedll = false;
float g_rankUIShowMeter = 0.0f;
float g_rankUIHideoffset = 0.0f;
bool g_liveCharaAutoDressReplace = false;
bool g_useExclusiveFullScreen = false;
int g_exclusiveFullScreenWidth = 1920;
int g_exclusiveFullScreenHeight = 1080;
char* g_customHost;
char* g_customDataPath;
bool g_skipResourceDownload = false;
int c_gachaCutinChara=-1;
int c_gachaCutinDress=-1;
int c_gachaCutinHeadid = -1;
int c_raceResultCutinMotionChara = -1;
int c_raceResultCutinMotionDress = -1;
int c_raceResultCutinMotionGrade = -1;
int c_raceResultCutinMotionRank = -1;
bool c_stopLiveCam = false;
bool c_changeStoryChar = false;
int c_story3dCharID = -1;
int c_story3dClothID = -1;
int c_story3dMobid = -1;
int c_story3dHeadID = -1;
int patchCount = 0;
TimelineKeyCharacterType c_gachaCharaType = (TimelineKeyCharacterType)-1;

namespace
{
	void create_debug_console()
	{
		AllocConsole();

		// open stdout stream
		auto _ = freopen("CONOUT$", "w", stdout);
		_ = freopen("CONOUT$", "w", stderr);
		_ = freopen("CONIN$", "r", stdin);

		//SetConsoleOutputCP(65001);
		//setlocale(LC_CTYPE, "");
		//std::wcout.imbue(std::locale("", std::locale::ctype));
		SetConsoleTitle("Umamusume - Debug Console");

		// set this to avoid turn japanese texts into question mark
		SetConsoleOutputCP(65001);
		std::locale::global(std::locale(""));

		wprintf(L"\u30a6\u30de\u5a18 Localify Patch Loaded! - By GEEKiDoS / Edited by runner38\n");
		printf("%s\n", key);
		/*std::ifstream file("ascii-art.txt");
		std::string str;
		
		while (std::getline(file, str))
		{
			std::cout << str << "\n";
		}*/


	}

	std::vector<std::string> read_config()
	{
		std::ifstream config_stream { "config.json" };
		std::vector<std::string> dicts {};

		if (!config_stream.is_open())
			return dicts;

		rapidjson::IStreamWrapper wrapper {config_stream};
		rapidjson::Document document;

		document.ParseStream(wrapper);

		if (!document.HasParseError())
		{
			g_enable_console = document["enableConsole"].GetBool();
			g_enable_logger = document["enableLogger"].GetBool();
			g_dump_entries = document["dumpStaticEntries"].GetBool();
			g_max_fps = document["maxFps"].GetInt();
			g_unlock_size = document["unlockSize"].GetBool();
			g_ui_scale = document["uiScale"].GetFloat();
			g_replace_font = document["replaceFont"].GetBool();
			g_auto_fullscreen = document["autoFullscreen"].GetBool();
			g_autofps = document["autoFpsSet"].GetBool();
			g_lz4Encrypt = document["lz4Encrypt"].GetBool();
			g_dumpGamedll = document["dumpGameassembly"].GetBool();
			g_saveMsgPack = document["saveMsgPack"].GetBool();
			g_showLiveTitleWindow = document["showLiveTitleWindow"].GetBool();
			g_sendHorseMeterData = document["sendHorseMeterData"].GetBool();
			g_rankUIShowMeter = document["rankUIShowMeter"].GetFloat();
			g_rankUIHideoffset = document["rankUIHideoffset"].GetFloat();
			g_liveCharaAutoDressReplace = document["liveCharaAutoDressReplace"].GetBool();
			g_useExclusiveFullScreen = document["useExclusiveFullScreen"].GetBool();
			g_exclusiveFullScreenWidth = document["exclusiveFullScreenWidth"].GetInt();
			g_exclusiveFullScreenHeight = document["exclusiveFullScreenHeight"].GetInt();
			const char* d = document["customHost"].GetString();
			g_customHost = new char[strlen(d)+1];
			strcpy(g_customHost, d);
			const char* tt = document["customDataPath"].GetString();
			g_customDataPath = new char[strlen(tt) + 1];
			strcpy(g_customDataPath, tt);
			//g_skipResourceDownload = document["skipResourceDownload"].GetBool();
			
			// Looks like not working for now
			// g_aspect_ratio = document["customAspectRatio"].GetFloat();

			auto& dicts_arr = document["dicts"];
			auto len = dicts_arr.Size();

			for (size_t i = 0; i < len; ++i)
			{
				auto dict = dicts_arr[i].GetString();

				dicts.push_back(dict);
			}
		}
		else {
			MessageBox(NULL, "Config.json parse error", "Error", MB_OK | MB_ICONERROR);
		}

		config_stream.close();
		return dicts;
	}
}

int __stdcall DllMain(HINSTANCE, DWORD reason, LPVOID)
{
	if (reason == DLL_PROCESS_ATTACH)
	{
		// the DMM Launcher set start path to system32 wtf????
		std::string module_name;
		module_name.resize(MAX_PATH);
		module_name.resize(GetModuleFileName(nullptr, module_name.data(), MAX_PATH));

		std::filesystem::path module_path(module_name);

		// check name
		if (module_path.filename() != "umamusume.exe")
			return 1;


		std::filesystem::current_path(
			module_path.parent_path()
		);

		auto dicts = read_config();

		
		
			

		std::thread init_thread([dicts]() {
			if (g_enable_console)
				create_debug_console();
			logger::init_logger();
			local::load_textdb(&dicts);
			printf("init_thread\n");
			init_hook();

			if (g_enable_console)
				start_console();
			});
		init_thread.detach();



		
	}
	else if (reason == DLL_PROCESS_DETACH)
	{
		uninit_hook();
		logger::close_logger();
	}

	return 1;
}
